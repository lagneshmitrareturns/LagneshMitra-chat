<!DOCTYPE html>
<html lang="en">
<head>

  <!-- BASIC META -->
  <meta charset="UTF-8">
  <title>LagneshMitra</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- MAIN STYLESHEET (LOCKED) -->
  <link rel="stylesheet" href="style.css">

  <!-- LM INTRO â€“ FULL SCREEN SLAB -->
  <style>
    #lm-intro{
      position:fixed;
      inset:0;
      background:radial-gradient(circle at top,#2b1055,#160a26 80%);
      backdrop-filter:blur(18px);
      z-index:999999;
      display:flex;
      align-items:center;
      justify-content:center;
      animation:lm-slide-up 5.8s ease forwards;
    }

    .lm-core{
      font-size:120px;
      font-weight:900;
      font-style:italic;
      color:#ff5da2;
      letter-spacing:10px;
      text-shadow:
        0 0 20px rgba(255,93,162,.9),
        0 0 60px rgba(124,58,237,.8);
    }

    @keyframes lm-slide-up{
      0%{transform:translateY(0);opacity:1}
      70%{opacity:1}
      100%{transform:translateY(-120%);opacity:0}
    }
  </style>

</head>

<body>

<!-- LM INTRO -->
<div id="lm-intro">
  <div class="lm-core">LM</div>
</div>

<!-- TOP BAR -->
<div class="topbar">
  <div class="brand">
    LagneshMitra
    <span>Astrology â€¢ Decision Intelligence</span>
  </div>

  <div class="menu" onclick="toggleMenu()">â‹®
    <div class="dropdown" id="mainMenu">
      <button onclick="location.href='email-chat.html'">ðŸ“© Contact</button>
      <button onclick="location.href='admin-posts.html'">âš™ Admin</button>
    </div>
  </div>
</div>

<!-- HALL OF FAME -->
<div class="hero">
  <div class="post-card" id="postCard">
    <h3>Hall of Fame</h3>

    <div class="meta" id="postMeta">
      Loading latest transmissionâ€¦
    </div>

    <div class="post-preview" id="postPreview"></div>
    <div class="post-full" id="postFull"></div>

    <button id="toggleBtn">Expand</button>
  </div>
</div>

<!-- ZENO -->
<div id="zeno-eye" onclick="toggleZeno()">
  <div class="ring"></div>
  <div class="pupil"></div>
  <div class="lid"></div>
</div>

<div id="zeno-cloud" style="display:none;">
  ZENO is observing resonance patternsâ€¦
</div>

<!-- CORE LOGIC -->
<script type="module" src="app.js"></script>

<script>
  /* HARD LOCK */
  document.body.style.pointerEvents="none";
  document.body.style.paddingTop="0px";

  (function(){
    const intro=document.getElementById("lm-intro");
    if(sessionStorage.getItem("lm_intro_seen")){
      intro.remove();
      document.body.style.pointerEvents="auto";
      document.body.style.paddingTop="140px";
      return;
    }
    sessionStorage.setItem("lm_intro_seen","1");
    setTimeout(()=>{
      intro.remove();
      document.body.style.pointerEvents="auto";
      document.body.style.paddingTop="140px";
      window.dispatchEvent(new Event("resize"));
    },5800);
  })();

  function toggleMenu(){
    const m=document.getElementById("mainMenu");
    m.style.display=(m.style.display==="block")?"none":"block";
  }

  document.addEventListener("click",e=>{
    if(!e.target.closest(".menu")){
      const m=document.getElementById("mainMenu");
      if(m)m.style.display="none";
    }
  });

  function toggleZeno(){
    const z=document.getElementById("zeno-cloud");
    z.style.display=(z.style.display==="block")?"none":"block";
  }
</script>

</body>
</html>
